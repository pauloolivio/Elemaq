<!DOCTYPE html>
<html>

<head>
    <title>Dimensionamento de Engrenagens</title>
    <meta charset="UTF-8">
</head>

<body>
    <h1>Dimensionamento de Engrenagens</h1>

    <label for="z1">Digite o número de dentes da engrenagem 1: </label>
    <input type="number" id="z1">
    <br><br>

    <label for="z2">Digite o número de dentes da engrenagem 2: </label>
    <input type="number" id="z2">
    <br><br>

    <label for="pot">Digite a potência transmitida em W: </label>
    <input type="number" id="pot">
    <br><br>

    <label for="n">Digite a rotação em rpm: </label>
    <input type="number" id="n">
    <br><br>

    <label for="h">Digite a vida útil de trabalho em horas: </label>
    <input type="number" id="h">
    <br><br>

    <label for="HB">Digite a dureza rockwell da engrenagem: </label>
    <input type="number" id="HB">
    <br><br>

    <label for="t_adm">Digite o limite de resistência admissível em MPa: </label>
    <input type="number" id="t_adm">
    <br><br>

    <label for="bdo">Digite a relação largura do dente e diâmetro primitivo: </label>
    <input type="number" id="bdo">
    <br><br>

    <label for="fp">Digite o fator de correção devido ao ângulo do helicoide: </label>
    <input type="number" id="fp">
    <br><br>

    <label for="fe">Digite o fator de característica elástica: </label>
    <input type="number" id="fe">
    <br><br>

    <label for="beta">Digite o ângulo helicoidal em graus: </label>
    <input type="number" id="beta">
    <br><br>

    <label for="fs">Digite o fator devido ao tipo e horas trabalhadas: </label>
    <input type="number" id="fs">
    <br><br>

    <label for="fr">Digite o fator de segurança: </label>
    <input type="number" id="fr">
    <br><br>

    <label for="q">Digite o fator devido ao número de dentes: </label>
    <input type="number" id="q">
    <br><br>

    <button onclick="calcular()">Calcular</button>

    <br><br>

    <label for="resultados">Resultados:</label>
    <br>
    <textarea id="resultados" rows="10" cols="50" readonly></textarea>

    <script>
        function projeto_par_engrenado_helicoidal(z1, z2, pot, n, h, HB, fe, fp, bdo, beta, q) {
            const modulos = [1.75, 2, 2.25, 2.5, 2.75, 3, 3.25, 3.5, 3.75];
            const i = z2 / z1;
            const mt = (30000 * pot) / (Math.PI * n);
            const w = (60 * n * h) / 1000000;
            const p_adm = (0.487 * HB) / Math.pow(w, 1 / 6);
            const vol_eng = (0.2 * Math.pow(fe, 2) * (mt / (Math.pow(p_adm, 2) * fp)) * ((i + 1) / i));
            const dp = Math.pow(vol_eng / bdo, 1 / 3);
            const ms = dp / z1;
            const mn = ms * Math.cos((beta * Math.PI) / 180);
            const modulo_nominal_novo = closest_number(mn, modulos);
            const mso = modulo_nominal_novo / Math.cos((beta * Math.PI) / 180);
            const dpn = mso * z1;
            const ft = (2 * mt) / dpn;
            const largura_minima_calc = vol_eng / Math.pow(dpn, 2);
            const largura_minima_admissivel = (ft * q) / (modulo_nominal_novo * t_adm * (1 / fs) * 1.35);

            return [
                i,
                mt,
                w,
                p_adm,
                vol_eng,
                dp,
                ms,
                mn,
                modulo_nominal_novo,
                mso,
                dpn,
                ft,
                largura_minima_calc,
                largura_minima_admissivel,
            ];
        }

        function closest_number(num, lst) {
            let closest = Infinity;
            for (let i of lst) {
                if (i >= num && i - num < closest - num) {
                    closest = i;
                }
            }
            return closest;
        }
    </script>

</body>

</html>