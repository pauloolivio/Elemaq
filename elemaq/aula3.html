<!DOCTYPE html>
<html>

<head>
    <title>Relação de Transmissão de Engrenagens - Trens de Engrenagens Simples</title>
    <meta charset="UTF-8">
</head>

<body>
    <label for="num_engrenagens">Número de engrenagens do sistema: </label>
    <input type="number" id="num_engrenagens" name="num_engrenagens"><br><br>

    <div id="diametros_inputs"></div><br>

    <button onclick="calcular()">Calcular</button><br><br>

    <textarea id="resultado" name="resultado" rows="10" cols="50" readonly></textarea>

    <script>
        function criarInputs() {
            const num_engrenagens = document.getElementById("num_engrenagens").value;
            const div_diametros = document.getElementById("diametros_inputs");

            div_diametros.innerHTML = "";

            for (let i = 1; i <= num_engrenagens; i++) {
                const label_diametro = document.createElement("label");
                label_diametro.textContent = `Digite o diâmetro da engrenagem ${i}: `;
                div_diametros.appendChild(label_diametro);

                const input_diametro = document.createElement("input");
                input_diametro.type = "number";
                input_diametro.name = `diametro_${i}`;
                div_diametros.appendChild(input_diametro);

                const br = document.createElement("br");
                div_diametros.appendChild(br);
            }
        }

        function calcular() {
            const num_engrenagens = document.getElementById("num_engrenagens").value;
            let diametros = [];

            for (let i = 1; i <= num_engrenagens; i++) {
                const input_diametro = document.getElementsByName(`diametro_${i}`)[0];
                diametros.push(parseFloat(input_diametro.value));
            }

            let relacao_transmissao = 1;
            for (let i = 0; i < num_engrenagens - 1; i++) {
                relacao_transmissao *= diametros[i + 1] / diametros[i];
            }

            const resultado = document.getElementById("resultado");
            resultado.value = `A relação de transmissão do sistema simples é: ${relacao_transmissao}`;
        }

        document.getElementById("num_engrenagens").addEventListener("change", criarInputs);
    </script>
</body>

</html>